<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">Does your PV need S3 access? We’ve got you covered | s3gw Project</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://s3gw.io/blog/does-your-pv-need-s3-access"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="Does your PV need S3 access? We’ve got you covered | s3gw Project"><meta data-rh="true" name="description" content="In a cloud-native environment, it is important to offer storage systems that can interact with clients using a standard protocol."><meta data-rh="true" property="og:description" content="In a cloud-native environment, it is important to offer storage systems that can interact with clients using a standard protocol."><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2022-07-28T00:00:00.000Z"><meta data-rh="true" property="article:tag" content="blog,s3gw,Rancher,Longhorn"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://s3gw.io/blog/does-your-pv-need-s3-access"><link data-rh="true" rel="alternate" href="https://s3gw.io/blog/does-your-pv-need-s3-access" hreflang="en"><link data-rh="true" rel="alternate" href="https://s3gw.io/blog/does-your-pv-need-s3-access" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="s3gw Project RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="s3gw Project Atom Feed"><link rel="stylesheet" href="/assets/css/styles.fa3843a2.css">
<link rel="preload" href="/assets/js/runtime~main.a15175a4.js" as="script">
<link rel="preload" href="/assets/js/main.3d4d7d7f.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo-dark.svg" alt="logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate"></b></a></div><div class="navbar__items navbar__items--right"><a href="https://s3gw-docs.readthedocs.io/en/main/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar__docs">Docs</a><a aria-current="page" class="navbar__item navbar__link navbar__docs navbar__link--active" href="/blog">Blog</a><a href="https://rancher-users.slack.com/archives/C04DCMUV8SE" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar__docs">Slack</a><a href="https://github.com/aquarist-labs/s3gw" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar__icon navbar__github">GitHub</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link navbar__docs">More From SUSE</a><ul class="dropdown__menu"><li><a href="https://www.rancher.com" target="_blank" rel="noopener noreferrer" class="dropdown__link navbar__icon navbar__rancher">Rancher</a></li><li><a href="https://rancherdesktop.io" target="_blank" rel="noopener noreferrer" class="dropdown__link navbar__icon navbar__rd">Rancher Desktop</a></li><li><a href="https://longhorn.io" target="_blank" rel="noopener noreferrer" class="dropdown__link navbar__icon navbar__longhorn">Longhorn</a></li><li><hr style="margin: 0.3rem 0;"></li><li><a href="https://opensource.suse.com" target="_blank" rel="noopener noreferrer" class="dropdown__link navbar__icon navbar__suse">More Projects...</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">Latest posts</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2023/08/31/release-notes-0.20">Release Notes - v0.20.0</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2023/08/31/release-notes-0.21">Release Notes - v0.21.0</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2023/08/31/release-notes-0.22">Release Notes - v0.22.0</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2023/08/03/release-notes-0.19">Release Notes - v0.19.0</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/release-notes-v0.18">Release Notes - v0.18.0</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/release-notes-v0.17">Release Notes - v0.17.0</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/release-notes-v0.16">Release Notes - v0.16.0</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/release-notes-v0.15">Release Notes - v0.15.0</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/release-notes-v0.14">Release Notes - v0.14.0</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/release-notes-v0.13">Release Notes - v0.13.0</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/epinio-meets-s3gw">Epinio meets s3gw</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/release-notes-v0.12">Release Notes - v0.12.0</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/release-notes-v0.11">Release Notes - v0.11.0</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/deploy-s3gw-digital-ocean">Deploy s3gw in Digital Ocean</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/release-notes-v0.10">Release Notes - v0.10.0</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/release-notes-v0.9">Release Notes - v0.9.0</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/introduction-to-s3gw">Introduction to s3gw</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/release-notes-v0.8">Release Notes - v0.8.0</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/release-notes-v0.7">Release Notes - v0.7.0</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/release-notes-v0.6">Release Notes - v0.6.0</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/release-notes-v0.5">Release Notes - v0.5.0</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/release-notes-v0.4">Release Notes - v0.4.0</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/release-notes-v0.3">Release Notes - v0.3.0</a></li><li class="sidebarItem__DBe"><a aria-current="page" class="sidebarItemLink_mo7H sidebarItemLinkActive_I1ZP" href="/blog/does-your-pv-need-s3-access">Does your PV need S3 access? We’ve got you covered</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/s3gw-rados-gateway-standalone">Contain your excitement, the s3gw is in town</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="In a cloud-native environment, it is important to offer storage systems that can interact with clients using a standard protocol."><header><h1 class="title_f1Hy" itemprop="headline">Does your PV need S3 access? We’ve got you covered</h1><div class="container_mt6G margin-vert--md"><time datetime="2022-07-28T00:00:00.000Z" itemprop="datePublished">July 28, 2022</time> · <!-- -->8 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><span itemprop="name">The s3gw team</span></div></div></div></div></div></header><div id="__blog-post-container" class="markdown" itemprop="articleBody"><p>Increased demand for cloud storage solutions has become a crucial topic in recent years: companies are requiring data to be made more readily available for their cloud-native applications.</p><div class="theme-admonition theme-admonition-warning alert alert--danger admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>danger</div><div class="admonitionContent_S0QG"><p>This content was adapted from the original <code>aquarist-labs</code> organization to the
new <code>s3gw-tech</code> organization. Some of it, especially screenshots, may contain
<code>aquarist-labs</code> references. Keep that in mind when following tutorials.</p></div></div><p>Increased demand for cloud storage solutions has become a crucial topic in recent years: companies are requiring data to be made more readily available for their cloud-native applications.</p><p>In a cloud-native environment, it is important to offer storage systems that can interact with clients using a standard protocol.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="simple-storage-service">Simple Storage Service<a href="#simple-storage-service" class="hash-link" aria-label="Direct link to Simple Storage Service" title="Direct link to Simple Storage Service">​</a></h2><p><img loading="lazy" alt="S3 logo" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALQAAACCCAYAAADv7uKCAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDE0IDc5LjE1Njc5NywgMjAxNC8wOC8yMC0wOTo1MzowMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QTFFNzQxQTJFMzExMTFFNDkzNEJBRkU2MTgxNkEyODAiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QTFFNzQxQTFFMzExMTFFNDkzNEJBRkU2MTgxNkEyODAiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RDMyRDBDMUNFMjg4MTFFNEEyM0RCNTNBRTFGRjY1RDUiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RDMyRDBDMURFMjg4MTFFNEEyM0RCNTNBRTFGRjY1RDUiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4spvgeAAAJBElEQVR42u3d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" width="180" height="130" class="img_ev3q"></p><p><a href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/Welcome.html" target="_blank" rel="noopener noreferrer">Simple Storage Service</a>, or S3, is a protocol designed by Amazon that launched in the United States market in 2006. S3 is a vast protocol that covers key concepts such as <em>buckets</em>, <em>objects</em>, <em>keys</em>, <em>versioning</em>, <em>ACLs</em> and <em>regions</em>.</p><p>To continue with this article, you need to know that the S3 API can be invoked with REST calls and that you can just store your objects inside holders called buckets. For more information, there are other resources available online.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="k3s-and-rancher"> K3s and Rancher<a href="#k3s-and-rancher" class="hash-link" aria-label="Direct link to  K3s and Rancher" title="Direct link to  K3s and Rancher">​</a></h2><p>This article explores the use of <a href="https://k3s.io/" target="_blank" rel="noopener noreferrer">K3s</a> and <a href="https://rancher.com/" target="_blank" rel="noopener noreferrer">Rancher</a> as foundations for experiments with an S3 gateway.</p><p><img loading="lazy" alt="K3S logo" src="/assets/images/k3s-icon-color-1-300x245-fe1dd7c8a4f58706948f6f846d510f02.png" width="300" height="245" class="img_ev3q"></p><p>K3s is a lightweight Kubernetes distribution that runs smoothly on Edge low resource devices. Rancher is a graphical user manager that simplifies the underlying complexity of a Kubernetes cluster.</p><p><img loading="lazy" alt="Rancher logo" src="data:image/png;base64,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" width="242" height="107" class="img_ev3q"></p><p>With Rancher, you can manage a cluster in a user-friendly fashion, regardless of the Kubernetes version being used.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="longhorn">Longhorn<a href="#longhorn" class="hash-link" aria-label="Direct link to Longhorn" title="Direct link to Longhorn">​</a></h2><p><img loading="lazy" alt="Longhorn logo" src="data:image/png;base64,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" width="225" height="225" class="img_ev3q"></p><p>A Kubernetes cluster and manager alone are not sufficient when dealing with cloud storage. You could use the primitive resources offered by a standard Kubernetes cluster such as the basic persistent volume types, but we recommend installing a component that takes care of providing your pods with some advanced storage resource.</p><p>It is desirable to have a system that can take care of your data securely and in a redundant fasion and expose volumes with the standard Kubernetes interfaces. <a href="https://longhorn.io/" target="_blank" rel="noopener noreferrer">Longhorn</a> is the right system for this kind of need. Built from scratch to work natively with Kubernetes, Longhorn allows pods to obtain highly available persistent volumes. The portion of storage managed by Longhorn is replicated so that a hardware failure does not compromise user&#x27;s data.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="s3-gateway">S3 Gateway<a href="#s3-gateway" class="hash-link" aria-label="Direct link to S3 Gateway" title="Direct link to S3 Gateway">​</a></h2><p><img loading="lazy" alt="S3GW logo" src="/assets/images/logo-s3gw-300x256-32a1cc43864e24fed218df7c806b593f.png" width="300" height="256" class="img_ev3q"></p><p>Having Longhorn deployed on your cluster allows the persistent volumes to be consumed by internal applications deployed on Kubernetes. If you want to give access to the data to external clients, you need an S3 gateway.</p><p>External clients can store and read data to and from the cluster using the S3 API. For this role, we are going to employ <a href="https://aquarist-labs.io/s3gw/" target="_blank" rel="noopener noreferrer">s3gw.</a></p><p>s3gw is being developed on the foundations of <a href="https://ceph.com/en/" target="_blank" rel="noopener noreferrer">Ceph</a> S3 gateway: radosgw. Even if s3gw is still in its infancy and still in an early stage of development, it can already be used to test and play with S3 functionalities.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="lets-start-cooking-ingredients">Let&#x27;s start cooking ingredients<a href="#lets-start-cooking-ingredients" class="hash-link" aria-label="Direct link to Let&#x27;s start cooking ingredients" title="Direct link to Let&#x27;s start cooking ingredients">​</a></h2><p>Now that you have identified all the pieces, you are ready to start building your environment.\
For this tutorial, we are installing K3s on an OpenSUSE Linux OS. For the sake of simplicity, because Kubernetes needs to have certain networking resources available, it can be worth completely disabling the system firewall.</p><p>If you prefer to keep your firewall on, have a look <a href="https://rancher.com/docs/k3s/latest/en/installation/installation-requirements/#networking" target="_blank" rel="noopener noreferrer">here</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="stop-firewall">Stop Firewall<a href="#stop-firewall" class="hash-link" aria-label="Direct link to Stop Firewall" title="Direct link to Stop Firewall">​</a></h3><p>From a shell prompt, run the following command:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> systemctl stop firewalld.service</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="install-k3s">Install K3s<a href="#install-k3s" class="hash-link" aria-label="Direct link to Install K3s" title="Direct link to Install K3s">​</a></h3><p>From a shell prompt, run the following command:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">curl</span><span class="token plain"> -sfL </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">https://get.k3s.io</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">INSTALL_K3S_VERSION</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">v1.23.9+k3s1 </span><span class="token function" style="color:rgb(130, 170, 255)">sh</span><span class="token plain"> -</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>After installation has terminated, you can check that the cluster is running with:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> kubectl get nodes</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If everything is ok, you should see something similar:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">NAME STATUS ROLES                AGE   VERSION</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">suse Ready  control-plane,master 56s   v1.23.8+k3s1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If you prefer using K3s with your regular user and not as root, you can run:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">cp</span><span class="token plain"> /etc/rancher/k3s/k3s.yaml ~/.kube/config </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;&amp;</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">chown</span><span class="token plain"> </span><span class="token environment constant" style="color:rgb(130, 170, 255)">$USER</span><span class="token plain"> ~/.kube/config </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;&amp;</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">chmod</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">600</span><span class="token plain"> ~/.kube/config </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;&amp;</span><span class="token plain"> </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">KUBECONFIG</span><span class="token operator" style="color:rgb(137, 221, 255)">=~</span><span class="token plain">/.kube/config</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>After this, you will be able to operate on K3s with your user.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="install-helm">Install Helm<a href="#install-helm" class="hash-link" aria-label="Direct link to Install Helm" title="Direct link to Install Helm">​</a></h3><p><img loading="lazy" alt="Helm logo" src="/assets/images/helm-260x300-32c0ddd07e6d15526c9c47fc21a1ea6f.png" width="260" height="300" class="img_ev3q"></p><p>We are going to install Rancher using an <a href="https://helm.sh/" target="_blank" rel="noopener noreferrer">Helm</a> chart, so you must first install Helm on the system:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">zypper</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">install</span><span class="token plain"> helm</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="deploy-rancher">Deploy Rancher<a href="#deploy-rancher" class="hash-link" aria-label="Direct link to Deploy Rancher" title="Direct link to Deploy Rancher">​</a></h3><p>Let&#x27;s begin to install Rancher adding the its latest repo to Helm:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ helm repo </span><span class="token function" style="color:rgb(130, 170, 255)">add</span><span class="token plain"> rancher-latest </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">https://releases.rancher.com/server-charts/latest</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>After this, you must define a new Kubernetes namespace where Rancher will install:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ kubectl create namespace cattle-system</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>As the official <a href="https://rancher.com/docs/rancher/v2.6/en/installation/install-rancher-on-k8s/#install-the-rancher-helm-chart" target="_blank" rel="noopener noreferrer">documentation</a> dictates, this must be named <em>cattle-system.</em></p><p>Because Rancher management server is designed to be secure by default and requires SSL/TLS configuration you must deploy some additional resource:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ kubectl apply -f </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">https://github.com/cert-manager/cert-manager/releases/download/v1.7.1/cert-manager.crds.yaml</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ helm repo </span><span class="token function" style="color:rgb(130, 170, 255)">add</span><span class="token plain"> jetstack </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">https://charts.jetstack.io</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ helm </span><span class="token function" style="color:rgb(130, 170, 255)">install</span><span class="token plain"> cert-manager jetstack/cert-manager</span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> --namespace cert-manager</span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> --create-namespace</span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> --version v1.7.1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Let&#x27;s check that the cert-manager has successfully deployed and the related pods are running:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ kubectl get pods --namespace cert-manager</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">NAME                                       READY   STATUS    RESTARTS   AGE</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">cert-manager-5c6866597-zw7kh               </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain">/1     Running   </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token plain">          2m</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">cert-manager-cainjector-577f6d9fd7-tr77l   </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain">/1     Running   </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token plain">          2m</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">cert-manager-webhook-787858fcdb-nlzsq      </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain">/1     Running   </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token plain">          2m</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Now, you are required to define an hostname in /etc/hosts pointing to the ip address of one of the host&#x27;s physical interfaces, for example:</p><p>10.0.0.2 rancher.local</p><p>After this, you can finally launch the Rancher installation command:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">helm </span><span class="token function" style="color:rgb(130, 170, 255)">install</span><span class="token plain"> rancher rancher-latest/rancher</span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> --namespace cattle-system</span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> --set </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">hostname</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">rancher.local</span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> --set </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">bootstrapPassword</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">admin</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>When Rancher&#x27;s pods have booted up,  with your browser you can navigate to: <a href="https://rancher.local" target="_blank" rel="noopener noreferrer">https://rancher.local</a> and complete the initial setup:</p><p><img loading="lazy" alt="Screenshot 1" src="/assets/images/rancher1-1024x943-7a204ea57fcd78343b3b7dfd5cfc013b.png" width="1024" height="943" class="img_ev3q"></p><p>Once you have completed the step, and saved the password, you can start exploring your local cluster with the graphical manager:</p><p><img loading="lazy" alt="Screenshot 2" src="/assets/images/rancher.local_-1024x614-891b67c1668d868d663e765eb041c6ae.png" width="1024" height="614" class="img_ev3q"></p><p>Depending on what you have deployed on the cluster, you could see more or less resource consumption.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="deploy-longhorn">Deploy Longhorn<a href="#deploy-longhorn" class="hash-link" aria-label="Direct link to Deploy Longhorn" title="Direct link to Deploy Longhorn">​</a></h3><p>You can now deploy Longhorn using the Charts chooser under the Apps section on the left of the Rancher&#x27;s dashboard:</p><p><img loading="lazy" alt="Another Screenshot" src="/assets/images/rancher3-1024x727-da6df508c775d586c8124bf1176a30a3.png" width="1024" height="727" class="img_ev3q"></p><p>The installation is pretty straightforward and you don&#x27;t need to change any
default value of the chart.</p><p>In the end, if everything has gone well, you should see the Rancher&#x27;s console showing:</p><p><img loading="lazy" alt="Screenshot 3" src="/assets/images/ranch-longh-install-1024x596-d01427475b553c986dbdb1b6ef55ed29.png" width="1024" height="596" class="img_ev3q"></p><p>After Longhorn has been installed, you can simply click on the Longhorn entry on the left Rancher&#x27;s menu to be redirected to the Longhorn&#x27;s dashboard:</p><p><img loading="lazy" alt="Another Screenshot 2" src="/assets/images/long-dash-1024x651-730f4fb0abc0444846352c2dba3b649b.png" width="1024" height="651" class="img_ev3q"></p><p>A freshly installation of Longhorn shows that still no application is using a persistent volume.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="deploy-s3gw">Deploy s3gw<a href="#deploy-s3gw" class="hash-link" aria-label="Direct link to Deploy s3gw" title="Direct link to Deploy s3gw">​</a></h3><p>You are now ready to add the last ingredient to your system: s3gw, the S3
gateway.</p><p>Rancher does not bundle with the <a href="https://github.com/s3gw-tech/s3gw-charts" target="_blank" rel="noopener noreferrer">Helm repository of s3gw</a> set by default, so you must add it from the dashboard:</p><p><img loading="lazy" alt="Screenshot 4" src="/assets/images/s3gw-repo-add-1024x608-85c89560bd84d4f4af787052551e71b5.png" width="1024" height="608" class="img_ev3q"></p><p>You can choose an unique name: for example: s3gw.</p><p>For the Target field you have to choose Git repository and the repository URL:</p><p><a href="https://github.com/s3gw-tech/s3gw-charts" target="_blank" rel="noopener noreferrer">https://github.com/s3gw-tech/s3gw-charts</a></p><p>In the Git Branch field put the latest available release:</p><p>v0.2.0</p><p>You can now click on Create button.\
On Apps section, you can now find the s3gw chart:</p><p><img loading="lazy" alt="Screenshot 5" src="/assets/images/s3gw-chart-1024x630-386a7a8f2d3d482bc9dd6239c5900bd6.png" width="1024" height="630" class="img_ev3q"></p><p>So let&#x27;s proceed with installation; you can choose a namespace and a name for s3gw:</p><p><img loading="lazy" alt="Screenshot 6" src="/assets/images/s3gw-ns1-1024x657-00949142291bade220af232aa1a45f7a.png" width="1024" height="657" class="img_ev3q"></p><p>You don&#x27;t need to customize the chart, so you can leave the bottom checkbox
unchecked.</p><p>Once the installation completed, if everything has gone well, you should see the Rancher&#x27;s console showing:</p><p><img loading="lazy" alt="Screenshot 7" src="/assets/images/s3gw-installed-1024x774-b8e20239a02ec6659eeb7789aa20d8cc.png" width="1024" height="774" class="img_ev3q"></p><p>On Longhorn dashboard, you can verify that the application is using a Longhorn persistent volume:</p><p><img loading="lazy" alt="Screenshot 8" src="/assets/images/lh-s3gw-1024x480-2863ef60a75622e7a48e83b5ec726f26.png" width="1024" height="480" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="test-the-s3-gateway">Test the S3 gateway<a href="#test-the-s3-gateway" class="hash-link" aria-label="Direct link to Test the S3 gateway" title="Direct link to Test the S3 gateway">​</a></h3><p>By default the s3gw chart configures an ingress resource pointing to the S3
gateway with the FQDN: s3gw.local .</p><p>Thus, you must define s3gw.local in /etc/hosts pointing to the ip address of one of the host&#x27;s physical interfaces, for example:</p><p>10.0.0.2 s3gw.local</p><p>For testing the S3 gateway you can rely
on <a href="https://github.com/s3tools/s3cmd" target="_blank" rel="noopener noreferrer">s3cmd</a> that is a popular command line S3
client.</p><p>You can install it choosing a method
listed <a href="https://github.com/s3tools/s3cmd/blob/master/INSTALL.md" target="_blank" rel="noopener noreferrer">here</a>.</p><p>Once you have installed it, you can take the s3cmd configuration file
from <a href="https://raw.githubusercontent.com/s3gw-tech/s3gw/main/tools/env/s3cmd.cfg" target="_blank" rel="noopener noreferrer">here</a> and
use that as it is against s3gw.</p><p>All you need to to is to create a directory, put s3cmd.cfg inside that and finally invoke s3cmd.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="create-a-bucket">Create a bucket<a href="#create-a-bucket" class="hash-link" aria-label="Direct link to Create a bucket" title="Direct link to Create a bucket">​</a></h4><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ s3cmd -c s3cmd.cfg mb s3://foo</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="put-some-objects-in-the-bucket">Put some objects in the bucket<a href="#put-some-objects-in-the-bucket" class="hash-link" aria-label="Direct link to Put some objects in the bucket" title="Direct link to Put some objects in the bucket">​</a></h4><p>Let&#x27;s create a 1 MB file filled with random data and put it in the  bucket:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">dd</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">if</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">/dev/random </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">bs</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">1k </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">count</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">1k </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">of</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">obj.1mb.bin</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ s3cmd -c s3cmd.cfg put obj.1mb.bin s3://foo</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Let&#x27;s create a 10 MB file filled with random data and put it in the bucket:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">dd</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">if</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">/dev/random </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">bs</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">1k </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">count</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">10k </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">of</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">obj.10mb.bin</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ s3cmd -c s3cmd.cfg put obj.10mb.bin s3://foo</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="list-objects-contained-in-a-bucket">List objects contained in a bucket<a href="#list-objects-contained-in-a-bucket" class="hash-link" aria-label="Direct link to List objects contained in a bucket" title="Direct link to List objects contained in a bucket">​</a></h4><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ s3cmd -c s3cmd.cfg </span><span class="token function" style="color:rgb(130, 170, 255)">ls</span><span class="token plain"> s3://foo</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token number" style="color:rgb(247, 140, 108)">2022</span><span class="token plain">-07-26 </span><span class="token number" style="color:rgb(247, 140, 108)">15</span><span class="token plain">:03 </span><span class="token number" style="color:rgb(247, 140, 108)">10485760</span><span class="token plain">  s3://foo/obj.10mb.bin</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token number" style="color:rgb(247, 140, 108)">2022</span><span class="token plain">-07-26 </span><span class="token number" style="color:rgb(247, 140, 108)">15</span><span class="token plain">:01 </span><span class="token number" style="color:rgb(247, 140, 108)">1048576</span><span class="token plain">   s3://foo/obj.1mb.bin</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="delete-an-object">Delete an object<a href="#delete-an-object" class="hash-link" aria-label="Direct link to Delete an object" title="Direct link to Delete an object">​</a></h4><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ s3cmd -c s3cmd.cfg </span><span class="token function" style="color:rgb(130, 170, 255)">rm</span><span class="token plain"> s3://foo/obj.10mb.bin</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="in-summary">In summary<a href="#in-summary" class="hash-link" aria-label="Direct link to In summary" title="Direct link to In summary">​</a></h3><p>In this tutorial, you&#x27;ve seen how to set up a K3s cluster, manage it with Rancher, install Longhorn and finally enrich the system with a S3 gateway. K3s, Rancher and Longhorn are powerful tools to set up an environment providing resilient and performing storage capabilities. If you need to expose the storage to external clients, you can choose to install s3gw with a near zero effort.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="call-to-action">Call to action<a href="#call-to-action" class="hash-link" aria-label="Direct link to Call to action" title="Direct link to Call to action">​</a></h2><p>We would love to hear from you about what you&#x27;d like to see on our roadmap. What would enable you best to use s3gw in your environment?</p><p>Reach out to us at <a href="mailto:contact@s3gw.tech" target="_blank" rel="noopener noreferrer">contact@s3gw.tech</a> or have a look at our <a href="https://github.com/s3gw-tech/s3gw" target="_blank" rel="noopener noreferrer">GitHub repository</a> -- feature requests are welcome! 🙂</p></div><footer class="row docusaurus-mt-lg blogPostFooterDetailsFull_mRVl"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/blog">blog</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/s-3-gw">s3gw</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/rancher">Rancher</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/longhorn">Longhorn</a></li></ul></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/blog/release-notes-v0.3"><div class="pagination-nav__sublabel">Newer Post</div><div class="pagination-nav__label">Release Notes - v0.3.0</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/blog/s3gw-rados-gateway-standalone"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">Contain your excitement, the s3gw is in town</div></a></nav></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#simple-storage-service" class="table-of-contents__link toc-highlight">Simple Storage Service</a></li><li><a href="#k3s-and-rancher" class="table-of-contents__link toc-highlight"> K3s and Rancher</a></li><li><a href="#longhorn" class="table-of-contents__link toc-highlight">Longhorn</a></li><li><a href="#s3-gateway" class="table-of-contents__link toc-highlight">S3 Gateway</a></li><li><a href="#lets-start-cooking-ingredients" class="table-of-contents__link toc-highlight">Let&#39;s start cooking ingredients</a><ul><li><a href="#stop-firewall" class="table-of-contents__link toc-highlight">Stop Firewall</a></li><li><a href="#install-k3s" class="table-of-contents__link toc-highlight">Install K3s</a></li><li><a href="#install-helm" class="table-of-contents__link toc-highlight">Install Helm</a></li><li><a href="#deploy-rancher" class="table-of-contents__link toc-highlight">Deploy Rancher</a></li><li><a href="#deploy-longhorn" class="table-of-contents__link toc-highlight">Deploy Longhorn</a></li><li><a href="#deploy-s3gw" class="table-of-contents__link toc-highlight">Deploy s3gw</a></li><li><a href="#test-the-s3-gateway" class="table-of-contents__link toc-highlight">Test the S3 gateway</a></li><li><a href="#in-summary" class="table-of-contents__link toc-highlight">In summary</a></li></ul></li><li><a href="#call-to-action" class="table-of-contents__link toc-highlight">Call to action</a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 SUSE</div></div></div></footer></div>
<script src="/assets/js/runtime~main.a15175a4.js"></script>
<script src="/assets/js/main.3d4d7d7f.js"></script>
</body>
</html>